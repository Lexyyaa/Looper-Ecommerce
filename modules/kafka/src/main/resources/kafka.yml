# ğŸ”§ ê³µí†µ(global) kafka ì„¤ì • â€” ë©€í‹°ëª¨ë“ˆì—ì„œ ê³µí†µìœ¼ë¡œ import
spring:
  kafka:
    bootstrap-servers: ${BOOTSTRAP_SERVERS}      # ë¸Œë¡œì»¤ ì£¼ì†Œ(ë©€í‹°ëª¨ë“ˆ ê³µí†µ)
    client-id: ${spring.application.name}        # í´ë¼ì´ì–¸íŠ¸ ì‹ë³„(ë¡œê·¸/ëª¨ë‹ˆí„°ë§ì—ì„œ êµ¬ë¶„)
    properties:
      spring.json.add.type.headers: false        # JsonSerializerê°€ Java íƒ€ì… í—¤ë” ë¶™ì´ì§€ ì•Šê²Œ(ìš°ë¦° ì§ì ‘ í—¤ë” ì •ì˜)
      request.timeout.ms: 20000                  # Kafka ìš”ì²­ íƒ€ì„ì•„ì›ƒ
      retry.backoff.ms: 500                      # ì¬ì‹œë„ ì‚¬ì´ ë°±ì˜¤í”„
      auto:
        create.topics.enable: false              # í† í”½ ìë™ìƒì„± OFF(ìš´ì˜ ì•ˆì „)
        register.schemas: false                  # ìŠ¤í‚¤ë§ˆë ˆì§€ìŠ¤íŠ¸ë¦¬ ì‚¬ìš© ì•ˆ í•¨
        offset.reset: latest                     # ì´ˆê¸° ì˜¤í”„ì…‹: ìµœì‹ ë¶€í„°
      use.latest.version: true                   # í´ë¼ì´ì–¸íŠ¸ ìµœì‹  í”„ë¡œí† ì½œ ì‚¬ìš©
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer  # â¬…ï¸ POJO â†’ JSON
      retries: 3                                 # ë¸Œë¡œì»¤ ë ˆë²¨ ì¬ì‹œë„(ì•± ë ˆë²¨ RetryTemplateë„ ë³„ë„ ì ìš©)
    consumer:
      group-id: loopers-default-consumer         # ê¸°ë³¸ ê·¸ë£¹(ì•±ë³„ @KafkaListenerì—ì„œ ë®ì–´ì”€)
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.apache.kafka.common.serialization.ByteArrayDeserializer # â¬…ï¸ byte[] ë¡œ ë°›ìŒ
      properties:
        enable-auto-commit: false                # ìˆ˜ë™ ì»¤ë°‹(ack) ì „ì œ
    listener:
      ack-mode: manual                           # ìˆ˜ë™ ack(ì»¨í…Œì´ë„ˆ ê¸°ë³¸ê°’ â€” ìš°ë¦¬ factoryì—ì„œ ë‹¤ì‹œ ëª…ì‹œ)

---
spring.config.activate.on-profile: local, test

spring:
  kafka:
    bootstrap-servers: localhost:19092           # ë¡œì»¬/í…ŒìŠ¤íŠ¸ëŠ” ë„ì»¤ ë¸Œë¡œì»¤(ì˜ˆì‹œ)
    admin:
      properties:
        bootstrap.servers: kafka:9092            # Admin í´ë¼ì´ì–¸íŠ¸ê°€ ì“¸ ì£¼ì†Œ(í…ŒìŠ¤íŠ¸ ì»¨í…Œì´ë„ˆ ë“±)


---
spring.config.activate.on-profile: dev

---
spring.config.activate.on-profile: qa

---
spring.config.activate.on-profile: prd
